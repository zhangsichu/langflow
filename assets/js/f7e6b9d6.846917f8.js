"use strict";(self.webpackChunklangflow_docs=self.webpackChunklangflow_docs||[]).push([[1162],{28453:(e,o,t)=>{t.d(o,{R:()=>l,x:()=>c});var n=t(96540);const r={},s=n.createContext(r);function l(e){const o=n.useContext(s);return n.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function c(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),n.createElement(s.Provider,{value:o},e.children)}},96057:(e,o,t)=>{t.r(o),t.d(o,{CH:()=>i,assets:()=>p,chCodeConfig:()=>d,contentTitle:()=>a,default:()=>y,frontMatter:()=>c,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"Deployment/deployment-public-server","title":"Deploy a public Langflow server","description":"By default, your Langflow server at http7860 isn\'t exposed to the public internet.","source":"@site/docs/Deployment/deployment-public-server.mdx","sourceDirName":"Deployment","slug":"/deployment-public-server","permalink":"/deployment-public-server","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Deploy a public Langflow server","slug":"/deployment-public-server"},"sidebar":"docs","previous":{"title":"Langflow deployment overview","permalink":"/deployment-overview"},"next":{"title":"Containerize a Langflow application","permalink":"/develop-application"}}');var r=t(74848),s=t(28453),l=t(24754);const c={title:"Deploy a public Langflow server",slug:"/deployment-public-server"},a=void 0,p={},i={annotations:l.hk,Code:l.Cy},d={staticMediaQuery:"not screen, (max-width: 768px)",lineNumbers:!0,showCopyButton:!0,themeName:"github-dark"},h=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Expose your Langflow server with ngrok",id:"expose-your-langflow-server-with-ngrok",level:2},{value:"Use a public Langflow server",id:"use-a-public-langflow-server",level:2},{value:"Deploy your MCP server externally",id:"deploy-your-mcp-server-externally",level:3},{value:"Serve API requests",id:"serve-api-requests",level:3},{value:"Share a flow&#39;s Playground",id:"share-a-flows-playground",level:3}];function u(e){const o={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",strong:"strong",...(0,s.R)(),...e.components};return i||g("CH",!1),i.Code||g("CH.Code",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("style",{dangerouslySetInnerHTML:{__html:'[data-ch-theme="github-dark"] {  --ch-t-colorScheme: dark;--ch-t-foreground: #c9d1d9;--ch-t-background: #0d1117;--ch-t-lighter-inlineBackground: #0d1117e6;--ch-t-editor-background: #0d1117;--ch-t-editor-foreground: #c9d1d9;--ch-t-editor-lineHighlightBackground: #6e76811a;--ch-t-editor-rangeHighlightBackground: #ffffff0b;--ch-t-editor-infoForeground: #3794FF;--ch-t-editor-selectionBackground: #264F78;--ch-t-focusBorder: #1f6feb;--ch-t-tab-activeBackground: #0d1117;--ch-t-tab-activeForeground: #c9d1d9;--ch-t-tab-inactiveBackground: #010409;--ch-t-tab-inactiveForeground: #8b949e;--ch-t-tab-border: #30363d;--ch-t-tab-activeBorder: #0d1117;--ch-t-editorGroup-border: #30363d;--ch-t-editorGroupHeader-tabsBackground: #010409;--ch-t-editorLineNumber-foreground: #6e7681;--ch-t-input-background: #0d1117;--ch-t-input-foreground: #c9d1d9;--ch-t-input-border: #30363d;--ch-t-icon-foreground: #8b949e;--ch-t-sideBar-background: #010409;--ch-t-sideBar-foreground: #c9d1d9;--ch-t-sideBar-border: #30363d;--ch-t-list-activeSelectionBackground: #6e768166;--ch-t-list-activeSelectionForeground: #c9d1d9;--ch-t-list-hoverBackground: #6e76811a;--ch-t-list-hoverForeground: #c9d1d9; }'}}),"\n",(0,r.jsxs)(o.p,{children:["By default, your Langflow server at ",(0,r.jsx)(o.code,{children:"http://localhost:7860"})," isn't exposed to the public internet.\nHowever, you can forward Langflow server traffic with a forwarding platform like ",(0,r.jsx)(o.a,{href:"https://ngrok.com/docs/getting-started/",children:"ngrok"})," or ",(0,r.jsx)(o.a,{href:"https://docs.zrok.io/docs/getting-started",children:"zrok"})," to make your server public."]}),"\n",(0,r.jsxs)(o.p,{children:["When your Langflow server is public, you can do things like ",(0,r.jsx)(o.a,{href:"#deploy-your-mcp-server-externally",children:"deploy your Langflow MCP server externally"}),", ",(0,r.jsx)(o.a,{href:"#serve-api-requests",children:"serve API requests"}),", and ",(0,r.jsxs)(o.a,{href:"#share-a-flows-playground",children:["share a flow's ",(0,r.jsx)(o.strong,{children:"Playground"})," publicly"]}),"."]}),"\n",(0,r.jsx)(o.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsxs)(o.p,{children:["On the machine where you plan to host your Langflow installation, ",(0,r.jsx)(o.a,{href:"/get-started-installation",children:"install Langflow"})," and a reverse proxy or forwarding service."]}),"\n",(0,r.jsx)(o.p,{children:"This guide uses ngrok, but you can use any similar reverse proxy or forwarding platform."}),"\n",(0,r.jsxs)(o.p,{children:["If you want to follow along with this guide, ",(0,r.jsx)(o.a,{href:"https://ngrok.com/docs/getting-started/#1-install-ngrok",children:"install ngrok"})," and ",(0,r.jsx)(o.a,{href:"https://dashboard.ngrok.com/get-started/your-authtoken",children:"create an ngrok authtoken"}),"."]}),"\n",(0,r.jsx)(o.h2,{id:"expose-your-langflow-server-with-ngrok",children:"Expose your Langflow server with ngrok"}),"\n",(0,r.jsxs)(o.ol,{children:["\n",(0,r.jsxs)(o.li,{children:["\n",(0,r.jsx)(o.p,{children:"Start Langflow:"}),"\n",(0,r.jsx)(i.Code,{codeConfig:d,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"uv ",props:{style:{color:"#FFA657"}}},{content:"run langflow run",props:{style:{color:"#A5D6FF"}}}]}],lang:"bash"},annotations:[]}]}),"\n"]}),"\n",(0,r.jsxs)(o.li,{children:["\n",(0,r.jsx)(o.p,{children:"In another terminal window, use your ngrok authtoken to authenticate your local ngrok server:"}),"\n",(0,r.jsx)(i.Code,{codeConfig:d,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"ngrok ",props:{style:{color:"#FFA657"}}},{content:"config add-authtoken NGROK_AUTHTOKEN",props:{style:{color:"#A5D6FF"}}}]}],lang:"bash"},annotations:[]}]}),"\n"]}),"\n",(0,r.jsxs)(o.li,{children:["\n",(0,r.jsx)(o.p,{children:"Use ngrok to expose your Langflow server to the public internet:"}),"\n",(0,r.jsx)(i.Code,{codeConfig:d,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"ngrok ",props:{style:{color:"#FFA657"}}},{content:"http http://localhost:",props:{style:{color:"#A5D6FF"}}},{content:"7860",props:{style:{color:"#79C0FF"}}}]}],lang:"bash"},annotations:[]}]}),"\n",(0,r.jsxs)(o.p,{children:["This example assumes that you use the default Langflow listening address at ",(0,r.jsx)(o.code,{children:"http://localhost:7860"}),". If you have a different listening address, you must modify this command accordingly."]}),"\n",(0,r.jsxs)(o.p,{children:["The ngrok session starts in your terminal and deploys an ephemeral domain with no authentication.\nTo add authentication or deploy a static domain, see the ",(0,r.jsx)(o.a,{href:"https://ngrok.com/docs/",children:"ngrok documentation"}),"."]}),"\n",(0,r.jsxs)(o.p,{children:["The ",(0,r.jsx)(o.code,{children:"Forwarding"})," line prints the forwarding address for your Langflow server:"]}),"\n",(0,r.jsx)(i.Code,{codeConfig:d,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"Forwarding https://94b1-76-64-171-14.ngrok-free.app -> http://localhost:7860",props:{}}]}],lang:"text"},annotations:[]}]}),"\n",(0,r.jsx)(o.p,{children:"The forwarding address acts as a reverse proxy for your Langflow server, and ngrok forwards your local traffic to this domain."}),"\n"]}),"\n",(0,r.jsxs)(o.li,{children:["\n",(0,r.jsxs)(o.p,{children:["To verify that your Langflow server is publicly available, navigate to the forwarding address URL, such as ",(0,r.jsx)(o.code,{children:"https://94b1-76-64-171-14.ngrok-free.app"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(o.h2,{id:"use-a-public-langflow-server",children:"Use a public Langflow server"}),"\n",(0,r.jsxs)(o.p,{children:["When your Langflow server is public, you can do things like ",(0,r.jsx)(o.a,{href:"#deploy-your-mcp-server-externally",children:"deploy your Langflow MCP server externally"}),", ",(0,r.jsx)(o.a,{href:"#serve-api-requests",children:"serve API requests"}),", and ",(0,r.jsxs)(o.a,{href:"#share-a-flows-playground",children:["share a flow's ",(0,r.jsx)(o.strong,{children:"Playground"})," publicly"]}),"."]}),"\n",(0,r.jsx)(o.h3,{id:"deploy-your-mcp-server-externally",children:"Deploy your MCP server externally"}),"\n",(0,r.jsx)(o.p,{children:"After you deploy a public Langflow server, you can also access your Langflow projects' MCP servers publicly."}),"\n",(0,r.jsxs)(o.p,{children:["To do this, use your server's forwarding address when you ",(0,r.jsx)(o.a,{href:"/mcp-server#connect-clients-to-use-the-servers-actions",children:"connect a client to a Langflow MCP server"}),"."]}),"\n",(0,r.jsx)(o.h3,{id:"serve-api-requests",children:"Serve API requests"}),"\n",(0,r.jsxs)(o.p,{children:["To send requests to a public Langflow server's ",(0,r.jsx)(o.a,{href:"/api-reference-api-examples",children:"Langflow API"})," endpoints, use the server's domain as the ",(0,r.jsx)(o.a,{href:"/api-reference-api-examples#base-url",children:"base URL"})," for your API requests.\nFor example:"]}),"\n",(0,r.jsx)(i.Code,{codeConfig:d,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"curl ",props:{style:{color:"#FFA657"}}},{content:"-X ",props:{style:{color:"#79C0FF"}}},{content:"POST ",props:{style:{color:"#A5D6FF"}}},{content:"\\",props:{style:{color:"#79C0FF"}}}]},{tokens:[{content:'  "PUBLIC_SERVER_DOMAIN/api/v1/webhook/FLOW_ID" ',props:{style:{color:"#A5D6FF"}}},{content:"\\",props:{style:{color:"#79C0FF"}}}]},{tokens:[{content:"  -H ",props:{style:{color:"#79C0FF"}}},{content:'"Content-Type: application/json" ',props:{style:{color:"#A5D6FF"}}},{content:"\\",props:{style:{color:"#79C0FF"}}}]},{tokens:[{content:"  -H ",props:{style:{color:"#79C0FF"}}},{content:'"x-api-key: LANGFLOW_API_KEY" ',props:{style:{color:"#A5D6FF"}}},{content:"\\",props:{style:{color:"#79C0FF"}}}]},{tokens:[{content:"  -d ",props:{style:{color:"#79C0FF"}}},{content:'\'{"data": "example-data"}\'',props:{style:{color:"#A5D6FF"}}}]}],lang:"bash"},annotations:[]}]}),"\n",(0,r.jsx)(o.admonition,{type:"tip",children:(0,r.jsxs)(o.p,{children:["When you create flows on public Langflow servers, the code snippets generated in the ",(0,r.jsxs)(o.a,{href:"/concepts-publish",children:[(0,r.jsx)(o.strong,{children:"API access"})," pane"]})," automatically use your public server's domain."]})}),"\n",(0,r.jsxs)(o.p,{children:["You also use your public domain when making Langflow API calls in scripts, including the code snippets that are automatically generated by Langflow.\nFor example, the following code snippet calls an ngrok domain to trigger the specified flow (",(0,r.jsx)(o.code,{children:"d764c4b8..."}),"):"]}),"\n",(0,r.jsx)(i.Code,{codeConfig:d,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"import",props:{style:{color:"#FF7B72"}}},{content:" requests",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"url ",props:{style:{color:"#C9D1D9"}}},{content:"= ",props:{style:{color:"#FF7B72"}}},{content:'"https://3f7c-73-64-93-151.ngrok-free.app/api/v1/run/d764c4b8-5cec-4c0f-9de0-4b419b11901a"  ',props:{style:{color:"#A5D6FF"}}},{content:"# The complete API endpoint URL for this flow",props:{style:{color:"#8B949E"}}}]},{tokens:[{content:"",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"# Request payload configuration",props:{style:{color:"#8B949E"}}}]},{tokens:[{content:"payload ",props:{style:{color:"#C9D1D9"}}},{content:"=",props:{style:{color:"#FF7B72"}}},{content:" {",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "output_type"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"chat"',props:{style:{color:"#A5D6FF"}}},{content:",",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "input_type"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"chat"',props:{style:{color:"#A5D6FF"}}},{content:",",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "input_value"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"Hello"',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:"}",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"# Request headers",props:{style:{color:"#8B949E"}}}]},{tokens:[{content:"headers ",props:{style:{color:"#C9D1D9"}}},{content:"=",props:{style:{color:"#FF7B72"}}},{content:" {",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "Content-Type"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"application/json"',props:{style:{color:"#A5D6FF"}}},{content:",",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "x-api-key"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"LANGFLOW_API_KEY"',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:"}",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"try",props:{style:{color:"#FF7B72"}}},{content:":",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"    # Send API request",props:{style:{color:"#8B949E"}}}]},{tokens:[{content:"    response ",props:{style:{color:"#C9D1D9"}}},{content:"=",props:{style:{color:"#FF7B72"}}},{content:" requests.request(",props:{style:{color:"#C9D1D9"}}},{content:'"POST"',props:{style:{color:"#A5D6FF"}}},{content:", url, ",props:{style:{color:"#C9D1D9"}}},{content:"json",props:{style:{color:"#FFA657"}}},{content:"=",props:{style:{color:"#FF7B72"}}},{content:"payload, ",props:{style:{color:"#C9D1D9"}}},{content:"headers",props:{style:{color:"#FFA657"}}},{content:"=",props:{style:{color:"#FF7B72"}}},{content:"headers)",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"    response.raise_for_status()  ",props:{style:{color:"#C9D1D9"}}},{content:"# Raise exception for bad status codes",props:{style:{color:"#8B949E"}}}]},{tokens:[{content:"",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"    # Print response",props:{style:{color:"#8B949E"}}}]},{tokens:[{content:"    print",props:{style:{color:"#79C0FF"}}},{content:"(response.text)",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"except",props:{style:{color:"#FF7B72"}}},{content:" requests.exceptions.RequestException ",props:{style:{color:"#C9D1D9"}}},{content:"as",props:{style:{color:"#FF7B72"}}},{content:" e:",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"    print",props:{style:{color:"#79C0FF"}}},{content:"(",props:{style:{color:"#C9D1D9"}}},{content:"f",props:{style:{color:"#FF7B72"}}},{content:'"Error making API request: ',props:{style:{color:"#A5D6FF"}}},{content:"{",props:{style:{color:"#79C0FF"}}},{content:"e",props:{style:{color:"#C9D1D9"}}},{content:"}",props:{style:{color:"#79C0FF"}}},{content:'"',props:{style:{color:"#A5D6FF"}}},{content:")",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"except ",props:{style:{color:"#FF7B72"}}},{content:"ValueError ",props:{style:{color:"#79C0FF"}}},{content:"as",props:{style:{color:"#FF7B72"}}},{content:" e:",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"    print",props:{style:{color:"#79C0FF"}}},{content:"(",props:{style:{color:"#C9D1D9"}}},{content:"f",props:{style:{color:"#FF7B72"}}},{content:'"Error parsing response: ',props:{style:{color:"#A5D6FF"}}},{content:"{",props:{style:{color:"#79C0FF"}}},{content:"e",props:{style:{color:"#C9D1D9"}}},{content:"}",props:{style:{color:"#79C0FF"}}},{content:'"',props:{style:{color:"#A5D6FF"}}},{content:")",props:{style:{color:"#C9D1D9"}}}]}],lang:"python"},annotations:[]}]}),"\n",(0,r.jsxs)(o.p,{children:["For a demo of the Langflow API in a script, see the ",(0,r.jsx)(o.a,{href:"/get-started-quickstart",children:"Quickstart"}),"."]}),"\n",(0,r.jsx)(o.h3,{id:"share-a-flows-playground",children:"Share a flow's Playground"}),"\n",(0,r.jsxs)(o.p,{children:["After you deploy a public Langflow server, you can use the ",(0,r.jsx)(o.strong,{children:"Shareable Playground"})," option to make a flow's ",(0,r.jsx)(o.strong,{children:"Playground"})," available at a public URL.\nIf a user accesses this URL, they can interact with the flow's chat input and output and view the results without installing Langflow or generating a Langflow API key."]}),"\n",(0,r.jsxs)(o.p,{children:["For more information, see ",(0,r.jsx)(o.a,{href:"/concepts-playground#share-a-flows-playground",children:"Share a flow's Playground"}),"."]})]})}function y(e={}){const{wrapper:o}={...(0,s.R)(),...e.components};return o?(0,r.jsx)(o,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}function g(e,o){throw new Error("Expected "+(o?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}}}]);